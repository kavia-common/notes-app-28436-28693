{"is_source_file": true, "format": "Python", "description": "This file defines REST API routes using FastAPI for managing notes, including CRUD operations, fetching summaries, and triggering AI-based summarization. It handles user authentication, database interaction via SQLAlchemy, and integrates a summarization service.", "external_files": ["app.core.security", "app.db.session", "app.models.note", "app.models.summary", "app.schemas.note", "app.schemas.summary", "app.services.summarization_client"], "external_methods": ["get_current_user", "get_session", "Note.model_validate", "Summary.model_validate"], "published": ["list_notes", "create_note", "get_note", "update_note", "delete_note", "get_note_summary", "summarize_note"], "classes": [], "methods": [{"name": "List[NoteRead] list_notes( session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )", "description": "Fetches a list of notes owned by the current user, ordered by creation date.", "scope": "", "scopeKind": ""}, {"name": "NoteRead create_note( payload: NoteCreate, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )", "description": "Creates a new note associated with the current user.", "scope": "", "scopeKind": ""}, {"name": "NoteRead get_note( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )", "description": "Retrieves a specific note by ID, ensuring ownership.", "scope": "", "scopeKind": ""}, {"name": "NoteRead update_note( id: int, payload: NoteUpdate, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )", "description": "Updates the title and content of an existing note owned by the user.", "scope": "", "scopeKind": ""}, {"name": "None delete_note( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )", "description": "Deletes a note owned by the current user.", "scope": "", "scopeKind": ""}, {"name": "SummaryRead get_note_summary( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )", "description": "Fetches the stored summary for a specific note.", "scope": "", "scopeKind": ""}, {"name": "dict summarize_note( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )", "description": "Triggers AI summarization for a note, stores, and returns the generated summary.", "scope": "", "scopeKind": ""}], "calls": ["session.execute", "session.add", "session.commit", "session.refresh", "session.delete", "Note.model_validate", "Summary.model_validate", "SummarizationClient().summarize"], "search-terms": ["notes", "summarization", "CRUD", "FastAPI routes", "notes API", "user notes", "SummarizationClient"], "state": 2, "file_id": 7, "knowledge_revision": 53, "git_revision": "ce6636720be27aa04dedd08d8cd1a57d34dabf5b", "revision_history": [{"15": ""}, {"53": "ce6636720be27aa04dedd08d8cd1a57d34dabf5b"}], "ctags": [{"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^async def create_note($/", "language": "Python", "typeref": "typename:NoteRead", "kind": "function", "signature": "( payload: NoteCreate, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^async def delete_note($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^async def get_note($/", "language": "Python", "typeref": "typename:NoteRead", "kind": "function", "signature": "( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )"}, {"_type": "tag", "name": "get_note_summary", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^async def get_note_summary($/", "language": "Python", "typeref": "typename:SummaryRead", "kind": "function", "signature": "( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^async def list_notes($/", "language": "Python", "typeref": "typename:List[NoteRead]", "kind": "function", "signature": "( session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "summarize_note", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^async def summarize_note($/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "( id: int, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/notes-app-28436-28693/BackendAPIContainer/src/app/api/routes/notes.py", "pattern": "/^async def update_note($/", "language": "Python", "typeref": "typename:NoteRead", "kind": "function", "signature": "( id: int, payload: NoteUpdate, session: AsyncSession = Depends(get_session), user=Depends(get_current_user), )"}], "hash": "f4f0b88f9d67636a86c2de03ac7d7d4d", "format-version": 4, "code-base-name": "BackendAPIContainer", "filename": "BackendAPIContainer/src/app/api/routes/notes.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}